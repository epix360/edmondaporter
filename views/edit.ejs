<% layout('/layouts/boilerplate') %>
    <h2 class="h1">Edit home page content</h2>
    <form id="homeEditForm" action="/?_method=PUT" method="POST" novalidate class="validated-form"
        enctype="multipart/form-data">
        <div class="row">
            <div class="col-md">
                <div class="mb-3">
                    <label class="form-label" for="heading">Heading</label>
                    <input class="form-control" type="text" name="home[heading]" id="heading" placeholder="heading"
                        spellcheck="true" value="<%= home.heading %>" aria-describedby="heading" required>
                </div>
                <div class="mb-3 d-none" id="uploader">
                    <label for="image" class="form-label">Upload home page picture</label>
                    <input class="form-control mb-3" name="image" type="file" id="image" value="<%= home.image %>"
                        required>
                    <% if(home.image) { %>
                        <a href="#" class="btn btn-info" id="cancelBtn">Cancel</a>
                        <% } %>
                </div>
                <div class="mb-3" id="currentPic">
                    <p>Home page picture</p>
                    <img class="img-thumbnail" width="300" src="<%= home.image %>" alt="">
                    <a class="btn btn-info" href="#" id="updatePhotoBtn">Update home page picture</a>
                </div>
            </div>
            <div class="col-md">
                <article>
                    <label class="form-label" for="content">Content</label>
                    <input type="hidden" id="imageIds" name="home[imageIds]">
                    <input type="hidden" id="imageIdsToDelete" name="home[imageIdsToDelete]">
                    <input type="hidden" name="content" id="content" aria-describedby="content">
                    <div id="editor-container" class="form-control editor-container"><%- home.content %></div>
                    <div class="my-3 text-end">
                        <button type="submit" class="btn btn-success d-inline-block mb-3">Save changes</button>
                        <a class="d-block" href="/">Cancel</a>
                    </div>
                </article>
            </div>
        </div>
    </form>
    <script src="/js/editor-image-handler.js"></script>